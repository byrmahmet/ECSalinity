<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>EC Salinity Class Implementation: Main Page</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">EC Salinity Class Implementation </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EC Salinity Class Implementation Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>The EC-Salinity I2C device can measure electrical conductivity in the range of 0.5 - 62mS and salinity from 2 - 42.</p>
<h1><a class="anchor" id="characteristics"></a>
Characteristics</h1>
<ul>
<li>EC range: 0.5 - 62mS</li>
<li>Salinity range: 2 - 42</li>
<li>Temperature range: -2 - 35C</li>
<li>Interface: I2C</li>
<li>Current use: 20mA peak</li>
<li>Voltage range: 2.7 - 5.5V</li>
<li>Operating temperature range: -65 - 125C</li>
</ul>
<p>It uses the standard Arduino Wire library to interface with the device. It's operating principle is based on sending a very short-duration DC pulse from one probe pin and reading the voltage on the second probe pin. The voltage is then converted to a temperature compensated Siemen measure. Salinity is also derived from the measure and is in PSU.</p>
<h1><a class="anchor" id="setup"></a>
Setup</h1>
<p>When the device is powered for the first time, it will be un-calibrated and must be calibrated to provide accurate readings. The calibration constant of the probe is referred to as the cell constant and represented by <a class="el" href="class_e_c___salinity.html#adc8011bc4befb5ba0879f22c614a15b8">EC_Salinity::K</a>. An uncalibrated device will show K = -1. To begin the calibration process, place the thermometer and probe in a calibration solution then call the <a class="el" href="class_e_c___salinity.html#ae3063ab09d83692263d7959fd9254f41" title="Calibrates the connected probe and saves the result in EEPROM numberProbeSamples measurements are mad...">EC_Salinity::calibrateProbe</a> function.</p>
<p>For best results, the probe should be cleaned with distilled water and then placed in the solution for 5-10 minutes before the probe is used. Note that any turbidity, air bubbles, large particles, etc will effect readings. An unstable temperature will decrease accuracy as well.</p>
<h1><a class="anchor" id="probe"></a>
Probe Selection</h1>
<p>Any probe can be attached to the device. Polirity doesn't matter. Keep in mind that metal, water, and electricity don't cooperate. The probe will not last forever, regardless of how little it is used. Things that effect the lifespan include the chemicals it is exposed to, if it is occasionally exposed to air, the number of measurments taken, the types of metal used, and the connections between portions of the probe. Deposit buildup will effect readings as well as chemical reactions that take place on the probe surface. If the probe is meant to stay fully submerged, all these factors should be taken into account. It is very likley that it will require regular maintanence in the form of cleaning or recalibration.</p>
<h1><a class="anchor" id="use"></a>
Use</h1>
<p>Once the probe has been calibrated, a reading can be taken. The probe should be placed in the solution to be measured and <a class="el" href="class_e_c___salinity.html#ac5eb05c6d52dcba0bb2d4785a51659bc" title="Starts an EC/Salinity measurement. ">EC_Salinity::measureEC</a> called to start a measurement. For best results, the probe should be cleaned with distilled water and left in the solution for 5 - 10 minutes. Be sure no air bubbles or debris are on the probe points.</p>
<p>If the solution to be measured is seawater, be sure to use the temperature compensation coefficient <a class="el" href="class_e_c___salinity.html#a6dece08b650de2f4eecf7822dbaee34b">EC_Salinity::tempCoefSalinity</a>, otherwise use <a class="el" href="class_e_c___salinity.html#aa5a1d7c5924a3c09be48911756b8c64a">EC_Salinity::tempCoefEC</a> as the parameter. If another compensation value is desired, it can be provided as a regular float value.</p>
<p>After the measurement is taken, the following class variables are updated:</p>
<ul>
<li><a class="el" href="class_e_c___salinity.html#a7d5cf279e9c0cd10cc3ced6d30d8f4ad">EC_Salinity::uS</a></li>
<li><a class="el" href="class_e_c___salinity.html#ad835b40db253e61ad5898414eff3fc60">EC_Salinity::mS</a></li>
<li><a class="el" href="class_e_c___salinity.html#aaa23d6f8e4c52448cbfae1b1a6688dbb">EC_Salinity::dS</a></li>
<li><a class="el" href="class_e_c___salinity.html#af3274d7a8037d1eee998d1dd3f50ce91">EC_Salinity::S</a></li>
<li><a class="el" href="class_e_c___salinity.html#ac2728a1569f3ea35748f7e499be42025">EC_Salinity::PPM_500</a></li>
<li><a class="el" href="class_e_c___salinity.html#accb116b113ca4087d709c21c10c682e3">EC_Salinity::PPM_640</a></li>
<li><a class="el" href="class_e_c___salinity.html#ac9a84178347e487901ff192c5ceeeec7">EC_Salinity::PPM_700</a></li>
<li><a class="el" href="class_e_c___salinity.html#a7e1c505419b7e8b2b9a4cb277701b6a3">EC_Salinity::salinityPSU</a></li>
<li><a class="el" href="class_e_c___salinity.html#a99faa627b03c807a535b956e98eec46e">EC_Salinity::salinityPPT</a></li>
<li><a class="el" href="class_e_c___salinity.html#a2733418c3eee1adaf51a5edd5aaf20fa">EC_Salinity::tempC</a></li>
<li><a class="el" href="class_e_c___salinity.html#a7abb032fef7156b3b99396ecf39cd731">EC_Salinity::tempF</a></li>
<li><a class="el" href="class_e_c___salinity.html#adc8011bc4befb5ba0879f22c614a15b8">EC_Salinity::K</a></li>
</ul>
<h1><a class="anchor" id="notes"></a>
Notes on Measuring Seawater</h1>
<p>Salinity can be accurately measured between a range of 2 - 42, between the -2 - 35 C.</p>
<h1><a class="anchor" id="references"></a>
References</h1>
<ul>
<li>Concept: <a href="https://www.element14.com/community/community/design-challenges/vertical-farming/blog/2015/09/13/automated-green-house-blogs-main-page">https://www.element14.com/community/community/design-challenges/vertical-farming/blog/2015/09/13/automated-green-house-blogs-main-page</a></li>
<li>Temperature coefficients: <a href="http://www.posiva.fi/files/2094/POSIVA-2001-15_Working-report_web.pdf">http://www.posiva.fi/files/2094/POSIVA-2001-15_Working-report_web.pdf</a></li>
<li>EC to PSU conversion: <a href="https://www.mwa.co.th/download/file_upload/SMWW_1000-3000.pdf">https://www.mwa.co.th/download/file_upload/SMWW_1000-3000.pdf</a> </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
